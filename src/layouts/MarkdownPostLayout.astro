---
import Layout from './Layout.astro';
import { getI18N } from '../i18n/';
import Header from '@components/Header/Header.astro';
import SectionContainer from '@components/shared/SectionContainer.astro';
import Title from '@components/shared/Title.astro';
import '../styles/post-styles.css';
export interface Props {
	frontmatter: {
		title: string;
		description: string;
		image: {
			src: string;
			alt: string;
		};
		pubDate: string;
	};
}

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });

const { frontmatter } = Astro.props;
const public_src = currentLocale == 'en' ? '' : '..';
const date = new Date(frontmatter.pubDate);
const formatedDate = `${date.getMonth()}/${date.getDay()}/${date.getFullYear()}`;
---

<!-- TODO: keep worging on styles -->
<Layout {...i18n}>
	<Header {...i18n} {public_src} />
	<main>
		<SectionContainer
			id="blog"
			class="m-0 mx-auto mt-4 w-11/12 text-[var(--default-font-color)]"
		>
			<p class="text-sm text-[var(--default-font-color)]">
				{formatedDate}
			</p>
			<header class="reveal">
				<Title class="mt-1 text-[var(--default-font-color)]"
					>{frontmatter.title}</Title
				>
			</header>
			<img
				transition:name={frontmatter.title}
				class="reveal rounded-lg object-cover"
				{...frontmatter.image}
				height="520"
				width="925"
			/>
			<article
				class="prose prose-custom dark:prose-invert lg:prose-lg prose-img:mx-auto mb-10 max-w-none break-words"
			>
				<slot />
			</article>
		</SectionContainer>
	</main>
</Layout>
